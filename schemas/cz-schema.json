{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/commitizen-tools/commitizen/master/schemas/cz-schema.json",
  "title": "Commitizen Configuration",
  "description": "JSON Schema for Commitizen configuration file (cz.json)",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference URL"
    },
    "commitizen": {
      "type": "object",
      "description": "Commitizen configuration settings",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the commit convention to use",
          "default": "cz_conventional_commits",
          "examples": [
            "cz_conventional_commits",
            "cz_jira",
            "cz_customize"
          ]
        },
        "version": {
          "type": "string",
          "description": "Current version of the project. Required if using commitizen as version provider.",
          "pattern": "^\\d+\\.\\d+\\.\\d+.*$",
          "examples": ["0.1.0", "1.0.0", "2.1.3-alpha.1"]
        },
        "version_provider": {
          "type": "string",
          "description": "Provider used to read and write version",
          "default": "commitizen",
          "enum": [
            "commitizen",
            "scm",
            "pep621",
            "poetry",
            "uv",
            "cargo",
            "npm",
            "composer"
          ]
        },
        "version_scheme": {
          "type": ["string", "null"],
          "description": "Version scheme to use for versioning",
          "enum": ["pep440", "semver", "semver2", null],
          "default": null
        },
        "version_type": {
          "type": ["string", "null"],
          "description": "Type of version increment",
          "enum": ["major", "minor", "patch", null],
          "default": null
        },
        "version_files": {
          "type": "array",
          "description": "Files that should be updated with the new version",
          "items": {
            "type": "string"
          },
          "default": [],
          "examples": [
            ["src/__version__.py", "pyproject.toml:version"]
          ]
        },
        "tag_format": {
          "type": "string",
          "description": "Format string for git tags. Use $version, $major, $minor, $patch variables.",
          "default": "$version",
          "examples": ["v$version", "$major.$minor.$patch", "release-$version"]
        },
        "legacy_tag_formats": {
          "type": "array",
          "description": "Legacy tag formats to recognize when parsing git history",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "ignored_tag_formats": {
          "type": "array",
          "description": "Tag formats to ignore when parsing git history",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "annotated_tag": {
          "type": "boolean",
          "description": "Create annotated git tags instead of lightweight tags",
          "default": false
        },
        "gpg_sign": {
          "type": "boolean",
          "description": "Sign git tags and commits with GPG",
          "default": false
        },
        "changelog_file": {
          "type": "string",
          "description": "Path to the changelog file",
          "default": "CHANGELOG.md"
        },
        "changelog_format": {
          "type": ["string", "null"],
          "description": "Format of the changelog file",
          "enum": ["markdown", "restructuredtext", "asciidoc", null],
          "default": null
        },
        "changelog_incremental": {
          "type": "boolean",
          "description": "Generate incremental changelog (append to existing)",
          "default": false
        },
        "changelog_merge_prerelease": {
          "type": "boolean",
          "description": "Merge prerelease changelog entries into final release",
          "default": false
        },
        "changelog_start_rev": {
          "type": ["string", "null"],
          "description": "Starting revision for changelog generation",
          "default": null
        },
        "update_changelog_on_bump": {
          "type": "boolean",
          "description": "Automatically update changelog when bumping version",
          "default": false
        },
        "template": {
          "type": ["string", "null"],
          "description": "Name of the changelog template to use",
          "default": null,
          "examples": ["CHANGELOG.md.j2", "keep_a_changelog"]
        },
        "bump_message": {
          "type": ["string", "null"],
          "description": "Commit message template for version bump. Use $current_version and $new_version variables.",
          "default": null,
          "examples": [
            "bump: version $current_version â†’ $new_version",
            "chore(release): $new_version"
          ]
        },
        "pre_bump_hooks": {
          "type": "array",
          "description": "Shell commands to run before bumping version",
          "items": {
            "type": "string"
          },
          "default": [],
          "examples": [
            ["scripts/pre-bump.sh", "make test"]
          ]
        },
        "post_bump_hooks": {
          "type": "array",
          "description": "Shell commands to run after bumping version",
          "items": {
            "type": "string"
          },
          "default": [],
          "examples": [
            ["scripts/post-bump.sh", "git push --follow-tags"]
          ]
        },
        "prerelease_offset": {
          "type": "integer",
          "description": "Offset for prerelease version counting",
          "default": 0,
          "minimum": 0
        },
        "major_version_zero": {
          "type": "boolean",
          "description": "Treat version 0.x.x as major version (breaking changes increment minor)",
          "default": false
        },
        "encoding": {
          "type": "string",
          "description": "Character encoding for reading and writing files",
          "default": "utf-8",
          "examples": ["utf-8", "latin1", "ascii"]
        },
        "allow_abort": {
          "type": "boolean",
          "description": "Allow aborting commit with empty message in CI environments",
          "default": false
        },
        "allowed_prefixes": {
          "type": "array",
          "description": "List of commit message prefixes that should skip validation",
          "items": {
            "type": "string"
          },
          "default": ["Merge", "Revert", "Pull request", "fixup!", "squash!", "amend!"],
          "examples": [
            ["Merge", "Revert", "WIP:"]
          ]
        },
        "message_length_limit": {
          "type": ["integer", "null"],
          "description": "Maximum length for commit messages (null for no limit)",
          "default": null,
          "minimum": 1
        },
        "always_signoff": {
          "type": "boolean",
          "description": "Always add Signed-off-by line to commit messages",
          "default": false
        },
        "breaking_change_exclamation_in_title": {
          "type": "boolean",
          "description": "Show exclamation mark (!) for breaking changes in commit title",
          "default": false
        },
        "retry_after_failure": {
          "type": "boolean",
          "description": "Retry commit after validation failure",
          "default": false
        },
        "use_shortcuts": {
          "type": "boolean",
          "description": "Display keyboard shortcuts in interactive prompts",
          "default": false
        },
        "style": {
          "type": "array",
          "description": "Custom styling for interactive prompts using questionary style tuples",
          "items": {
            "type": "array",
            "minItems": 2,
            "maxItems": 2,
            "items": [
              {
                "type": "string",
                "enum": [
                  "qmark",
                  "question",
                  "answer",
                  "pointer",
                  "highlighted",
                  "selected",
                  "separator",
                  "instruction",
                  "text",
                  "disabled"
                ]
              },
              {
                "type": "string"
              }
            ]
          },
          "default": [
            ["qmark", "fg:#ff9d00 bold"],
            ["question", "bold"],
            ["answer", "fg:#ff9d00 bold"],
            ["pointer", "fg:#ff9d00 bold"],
            ["highlighted", "fg:#ff9d00 bold"],
            ["selected", "fg:#cc5454"],
            ["separator", "fg:#cc5454"],
            ["instruction", ""],
            ["text", ""],
            ["disabled", "fg:#858585 italic"]
          ]
        },
        "customize": {
          "type": "object",
          "description": "Custom commit rules configuration (used with name='cz_customize')",
          "properties": {
            "message_template": {
              "type": "string",
              "description": "Jinja2 template for generating the commit message",
              "examples": [
                "{{change_type}}:{% if show_message %} {{message}}{% endif %}"
              ]
            },
            "example": {
              "type": "string",
              "description": "Example commit message following your custom format",
              "examples": [
                "feature: this feature enables customization through a config file"
              ]
            },
            "schema": {
              "type": "string",
              "description": "Human-readable schema description",
              "examples": ["<type>: <body>"]
            },
            "schema_pattern": {
              "type": "string",
              "description": "Regex pattern for validating commit messages",
              "examples": ["(feature|bug fix):(\\s.*)"]
            },
            "info": {
              "type": "string",
              "description": "Information about the commit rules"
            },
            "info_path": {
              "type": "string",
              "description": "Path to a file containing commit rules information"
            },
            "bump_pattern": {
              "type": "string",
              "description": "Regex pattern to identify commits that should trigger a version bump",
              "examples": ["^(break|new|fix|hotfix)"]
            },
            "bump_map": {
              "type": "object",
              "description": "Mapping of commit patterns to version bump types (MAJOR, MINOR, PATCH)",
              "patternProperties": {
                ".*": {
                  "type": "string",
                  "enum": ["MAJOR", "MINOR", "PATCH"]
                }
              },
              "examples": [
                {
                  "break": "MAJOR",
                  "new": "MINOR",
                  "fix": "PATCH"
                }
              ]
            },
            "bump_map_major_version_zero": {
              "type": "object",
              "description": "Alternative bump map for projects with major version zero (0.x.x)",
              "patternProperties": {
                ".*": {
                  "type": "string",
                  "enum": ["MAJOR", "MINOR", "PATCH"]
                }
              }
            },
            "change_type_order": {
              "type": "array",
              "description": "Order of change types in the changelog",
              "items": {
                "type": "string"
              },
              "examples": [
                ["BREAKING CHANGE", "feat", "fix", "refactor", "perf"]
              ]
            },
            "commit_parser": {
              "type": "string",
              "description": "Regex with named groups to extract information from commits for changelog",
              "examples": [
                "^(?P<change_type>feature|bug fix):\\s(?P<message>.*)?"
              ]
            },
            "changelog_pattern": {
              "type": "string",
              "description": "Regex pattern to determine which commits should appear in changelog",
              "examples": ["^(feature|bug fix)?(!)?"]
            },
            "change_type_map": {
              "type": "object",
              "description": "Mapping of commit types to changelog section labels",
              "patternProperties": {
                ".*": {
                  "type": "string"
                }
              },
              "examples": [
                {
                  "feature": "Feat",
                  "bug fix": "Fix"
                }
              ]
            },
            "questions": {
              "type": "array",
              "description": "Interactive questions for building commit messages",
              "items": {
                "type": "object",
                "required": ["type", "name", "message"],
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "Type of question prompt",
                    "enum": ["list", "input", "confirm", "checkbox", "password"]
                  },
                  "name": {
                    "type": "string",
                    "description": "Variable name for the answer (used in message_template)"
                  },
                  "message": {
                    "type": "string",
                    "description": "Question text to display to the user"
                  },
                  "choices": {
                    "type": "array",
                    "description": "Available choices for list/checkbox questions",
                    "items": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "object",
                          "required": ["value", "name"],
                          "properties": {
                            "value": {
                              "type": "string",
                              "description": "Internal value"
                            },
                            "name": {
                              "type": "string",
                              "description": "Display name"
                            },
                            "key": {
                              "type": "string",
                              "description": "Keyboard shortcut"
                            }
                          }
                        }
                      ]
                    }
                  },
                  "default": {
                    "description": "Default value for the question",
                    "oneOf": [
                      {"type": "string"},
                      {"type": "boolean"},
                      {"type": "array"}
                    ]
                  },
                  "multiline": {
                    "type": "boolean",
                    "description": "Allow multiline input (for input type)",
                    "default": false
                  },
                  "use_search_filter": {
                    "type": "boolean",
                    "description": "Enable search filter for choices (for list type)",
                    "default": false
                  },
                  "use_jk_keys": {
                    "type": "boolean",
                    "description": "Use j/k keys for navigation (vim-style)",
                    "default": false
                  }
                }
              }
            }
          },
          "additionalProperties": false
        },
        "extras": {
          "type": "object",
          "description": "Additional arbitrary configuration data",
          "additionalProperties": true
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["commitizen"],
  "additionalProperties": false
}
